{"version":3,"sources":["../../src/pages/resultado/resultado.module.ts","../../src/pages/resultado/resultado.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ResultadoPage } from './resultado';\n\n@NgModule({\n  declarations: [\n    ResultadoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ResultadoPage),\n  ],\n})\nexport class ResultadoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/resultado/resultado.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams,Platform, LoadingController } from 'ionic-angular';\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\nimport { InicioPage } from '../inicio/inicio';\nimport { GettematicasProvider } from '../../providers/gettematicas/gettematicas';\nimport { DataProvider } from '../../providers/data/data';\n/**\n * Generated class for the ResultadoPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-resultado',\n  templateUrl: 'resultado.html',\n})\nexport class ResultadoPage {\n\t\tresultadosTest: any;\n  examenData: any;\n  nombreExamen: string;\n  size: number;\n  finalizar: number;\n  correctas: number;\n  erroneas: number;\n  resultado: any = \"cargando\";\n  restante: any;\n  sendData: any;\n  idtest: number;\n  responseData: any;\n  showImg: boolean = false;\n  showImg2: boolean = false;\n  showErrors: boolean = false;\n  loading: any;\n  cali: any;\n  colorcali: any;\n  clascali: any;\n  \n  textcali: string;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,public iab: InAppBrowser, public plt: Platform, public loadingCtrl: LoadingController,public tematicas: GettematicasProvider,public dataService: DataProvider) {\n  \n  \t\tthis.loading = this.loadingCtrl.create({\n      content: 'Estamos obteniendo tu calificaciÃ³n...'\n    });\nthis.loading.present();\n    this.resultadosTest = this.navParams.get('resultados');\n    this.examenData = eval(this.navParams.get('examenData'));\n    this.nombreExamen = this.navParams.get('nameTest');\n\n    this.idtest = this.navParams.get('idtest');\n     this.size = Object.keys(this.examenData).length;\n      this.finalizar = this.size - 1;\n  \t//console.log(\"resultados: \"+ this.resultadosTest);\n    //console.log(this.examenData);\n    this.recorrerTest();\nconsole.log(\"userid: \" + this.dataService.iduser);\n\n plt.registerBackButtonAction(() => {\n      this.navCtrl.push('InicioPage');\n        \n      });\n\n  }\n\n\nopenLink(www){\n  let browser = this.iab.create(www, '_system');\n}\n\nrecorrerTest() {\nthis.correctas = 0;\nthis.erroneas = 0;\nlet preguntasString;\n  for(let i = 0; i < this.size; i++){\n        if(this.examenData[i].respuesta == this.resultadosTest[i]){\n          this.correctas++;\n          console.log(i + \"correcta\");\n        } else {\n          if(this.erroneas == 0){\n            preguntasString = this.examenData[i].id_pregunta;\n          } else {\n             preguntasString = preguntasString + \", \" + this.examenData[i].id_pregunta;\n          }\n         \n          this.erroneas++;\n        }\n\n       }\n       this.sendData = {\n            \"testidenviar\": this.idtest,\n            \"idquestion\": preguntasString,\n            \"userid\": this.dataService.iduser\n          }\n          //console.log(\"string: \" +preguntasString);\n     \n       this.resultado = this.correctas / this.size;\n       this.resultado = this.resultado * 100;\n       this.resultado = this.resultado.toFixed(0);\n       if(this.resultado < 59){\n        this.colorcali = \"orange\";\n       }\n       console.log(\"total correctas: \" + this.correctas);\n       console.log(\"resultado: \" + this.resultado);\n       this.loading.dismiss();\n\n\n\n\n       if(this.resultado != 100){\n        this.showErrors = true;\n         this.tematicas.postData(this.sendData,\"gettematica\").then((result) => {\n            //console.log(result);\n            this.responseData = result;\n            console.log(this.responseData[0].tematica);\n            console.log(this.responseData[0].www);\n            console.log(this.responseData[0].id_pregunta);\n          });\n}\n\nlet newData2Send = {\n    \"idtest\": this.idtest,\n    \"promedio\": this.resultado,\n    \"iduser\": this.dataService.iduser\n   }\n   this.tematicas.postData(newData2Send,\"postcali\").then((result) => {\n\n   });\n   \n\n   }\n\n   backMenu() {\n    this.navCtrl.push(InicioPage);\n   }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ResultadoPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/resultado/resultado.ts"],"sourceRoot":""}